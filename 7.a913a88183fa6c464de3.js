(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"5mh9":function(e,t,c){"use strict";c.r(t),c.d(t,"SettingsModule",(function(){return Z}));var i=c("ofXK"),n=c("tyNb"),o=c("0EQZ"),a=c("+0xr"),l=c("fXoL"),s=c("IM0g"),r=c("0IaG"),b=c("bTqV"),d=c("bSwM"),p=c("Xa2L");function u(e,t){if(1&e){const e=l.Tb();l.Sb(0,"th",11),l.Sb(1,"mat-checkbox",12),l.Zb("change",(function(t){l.oc(e);const c=l.dc();return t?c.masterToggle():null})),l.Rb(),l.Rb()}if(2&e){const e=l.dc();l.Ab(1),l.jc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function m(e,t){if(1&e){const e=l.Tb();l.Sb(0,"td",13),l.Sb(1,"mat-checkbox",14),l.Zb("click",(function(t){return l.oc(e),t.stopPropagation()}))("change",(function(c){l.oc(e);const i=t.$implicit,n=l.dc();return c?n.selection.toggle(i):null})),l.Rb(),l.Rb()}if(2&e){const e=t.$implicit,c=l.dc();l.Ab(1),l.jc("checked",c.selection.isSelected(e))("aria-label",c.checkboxLabel(e))}}function h(e,t){1&e&&(l.Sb(0,"th",11),l.wc(1,"Labcarname"),l.Rb())}function g(e,t){if(1&e&&(l.Sb(0,"td",13),l.wc(1),l.Rb()),2&e){const e=t.$implicit;l.Ab(1),l.xc(e.labcarname)}}function f(e,t){1&e&&l.Nb(0,"tr",15)}function S(e,t){if(1&e){const e=l.Tb();l.Sb(0,"tr",16),l.Zb("click",(function(){l.oc(e);const c=t.$implicit;return l.dc().selection.toggle(c)})),l.Rb()}}function w(e,t){1&e&&(l.Sb(0,"div",17),l.Sb(1,"div",18),l.Sb(2,"div"),l.Sb(3,"mat-progress-spinner",19),l.wc(4," > "),l.Rb(),l.Rb(),l.Rb(),l.Rb())}let v=(()=>{class e{constructor(e){this.hilService=e,this.displayedColumns=["select","labcarname"],this.dataSource=new a.k,this.loading=!0,this.initialSelection=[],this.selection=new o.c(!0,[])}ngOnInit(){this.hilService.getHils().subscribe(e=>{this.dataSource.data=e;const t=JSON.parse(localStorage.getItem("hils"));t&&(this.initialSelection=e.filter(e=>t.includes(e.labcarname)),this.selection.select(...this.initialSelection)),this.loading=!1},e=>console.log(e))}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?(this.selection.isSelected(e)?"deselect":"select")+" ":(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(l.Mb(s.a))},e.\u0275cmp=l.Gb({type:e,selectors:[["app-hil-selection-dialog"]],decls:16,vars:5,consts:[[1,"mat-typography"],["mat-table","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","labcarname"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","loader-wrapper",4,"ngIf"],["align","end"],["mat-raised-button","","color","primary",3,"mat-dialog-close"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-row",""],["mat-row","",3,"click"],[1,"loader-wrapper"],[1,"loader-inner"],["color","primary","mode","indeterminate","value","50"]],template:function(e,t){1&e&&(l.Sb(0,"mat-dialog-content",0),l.Sb(1,"h2"),l.wc(2,"Hil Selection"),l.Rb(),l.Sb(3,"table",1),l.Qb(4,2),l.vc(5,u,2,3,"th",3),l.vc(6,m,2,2,"td",4),l.Pb(),l.Qb(7,5),l.vc(8,h,2,0,"th",3),l.vc(9,g,2,1,"td",4),l.Pb(),l.vc(10,f,1,0,"tr",6),l.vc(11,S,1,0,"tr",7),l.Rb(),l.Rb(),l.vc(12,w,5,0,"div",8),l.Sb(13,"mat-dialog-actions",9),l.Sb(14,"button",10),l.wc(15," Save and close "),l.Rb(),l.Rb()),2&e&&(l.Ab(3),l.jc("dataSource",t.dataSource),l.Ab(7),l.jc("matHeaderRowDef",t.displayedColumns),l.Ab(1),l.jc("matRowDefColumns",t.displayedColumns),l.Ab(1),l.jc("ngIf",t.loading),l.Ab(2),l.jc("mat-dialog-close",t.selection.selected))},directives:[r.e,a.j,a.c,a.e,a.b,a.g,a.i,i.j,r.c,b.a,r.d,a.d,d.a,a.a,a.f,a.h,p.a],styles:["table[_ngcontent-%COMP%]{width:100%}.loader-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:calc(100vh - 20px)}.loader-wrapper[_ngcontent-%COMP%]   .loader-inner[_ngcontent-%COMP%]{padding:12px}"]}),e})();var R=c("AytR"),y=c("tk/3");let k=(()=>{class e{constructor(e){this.http=e}getProperties(){return this.http.get(R.a.apiUrl+"/properties")}sendProperties(e,t){return this.http.patch(R.a.apiUrl+"/properties/"+e,{properties:t})}}return e.\u0275fac=function(t){return new(t||e)(l.Wb(y.a))},e.\u0275prov=l.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function A(e,t){if(1&e){const e=l.Tb();l.Sb(0,"th",11),l.Sb(1,"mat-checkbox",12),l.Zb("change",(function(t){l.oc(e);const c=l.dc();return t?c.masterToggle():null})),l.Rb(),l.Rb()}if(2&e){const e=l.dc();l.Ab(1),l.jc("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("aria-label",e.checkboxLabel())}}function C(e,t){if(1&e){const e=l.Tb();l.Sb(0,"td",13),l.Sb(1,"mat-checkbox",14),l.Zb("click",(function(t){return l.oc(e),t.stopPropagation()}))("change",(function(c){l.oc(e);const i=t.$implicit,n=l.dc();return c?n.selection.toggle(i):null})),l.Rb(),l.Rb()}if(2&e){const e=t.$implicit,c=l.dc();l.Ab(1),l.jc("checked",c.selection.isSelected(e))("aria-label",c.checkboxLabel(e))}}function P(e,t){1&e&&(l.Sb(0,"th",11),l.wc(1,"Property Name"),l.Rb())}function j(e,t){if(1&e&&(l.Sb(0,"td",13),l.wc(1),l.Rb()),2&e){const e=t.$implicit;l.Ab(1),l.yc(" ",e.name," ")}}function x(e,t){1&e&&l.Nb(0,"tr",15)}function D(e,t){if(1&e){const e=l.Tb();l.Sb(0,"tr",16),l.Zb("click",(function(){l.oc(e);const c=t.$implicit;return l.dc().selection.toggle(c)})),l.Rb()}}function M(e,t){1&e&&(l.Sb(0,"div",17),l.Sb(1,"div",18),l.Sb(2,"div"),l.Sb(3,"mat-progress-spinner",19),l.wc(4," > "),l.Rb(),l.Rb(),l.Rb(),l.Rb())}let O=(()=>{class e{constructor(e){this.propertyService=e,this.displayedColumns=["select","propertyname"],this.dataSource=new a.k,this.loading=!0,this.initialSelection=[],this.selection=new o.c(!0,[])}ngOnInit(){this.propertyService.getProperties().subscribe(e=>{this.dataSource.data=e;const t=JSON.parse(localStorage.getItem("properties"));t&&(this.initialSelection=e.filter(e=>t.includes(e.name)),this.selection.select(...this.initialSelection)),this.loading=!1},e=>console.log(e))}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}checkboxLabel(e){return e?(this.selection.isSelected(e)?"deselect":"select")+" ":(this.isAllSelected()?"select":"deselect")+" all"}}return e.\u0275fac=function(t){return new(t||e)(l.Mb(k))},e.\u0275cmp=l.Gb({type:e,selectors:[["app-properties-selection-dialog"]],decls:16,vars:5,consts:[[1,"mat-typography"],["mat-table","",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","propertyname"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["class","loader-wrapper",4,"ngIf"],["align","end"],["mat-raised-button","","color","primary",3,"mat-dialog-close"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-row",""],["mat-row","",3,"click"],[1,"loader-wrapper"],[1,"loader-inner"],["color","primary","mode","indeterminate","value","50"]],template:function(e,t){1&e&&(l.Sb(0,"mat-dialog-content",0),l.Sb(1,"h2"),l.wc(2,"Property Selection"),l.Rb(),l.Sb(3,"table",1),l.Qb(4,2),l.vc(5,A,2,3,"th",3),l.vc(6,C,2,2,"td",4),l.Pb(),l.Qb(7,5),l.vc(8,P,2,0,"th",3),l.vc(9,j,2,1,"td",4),l.Pb(),l.vc(10,x,1,0,"tr",6),l.vc(11,D,1,0,"tr",7),l.Rb(),l.Rb(),l.vc(12,M,5,0,"div",8),l.Sb(13,"mat-dialog-actions",9),l.Sb(14,"button",10),l.wc(15," Save and close "),l.Rb(),l.Rb()),2&e&&(l.Ab(3),l.jc("dataSource",t.dataSource),l.Ab(7),l.jc("matHeaderRowDef",t.displayedColumns),l.Ab(1),l.jc("matRowDefColumns",t.displayedColumns),l.Ab(1),l.jc("ngIf",t.loading),l.Ab(2),l.jc("mat-dialog-close",t.selection.selected))},directives:[r.e,a.j,a.c,a.e,a.b,a.g,a.i,i.j,r.c,b.a,r.d,a.d,d.a,a.a,a.f,a.h,p.a],styles:["table[_ngcontent-%COMP%]{width:100%}.loader-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:calc(100vh - 20px)}.loader-wrapper[_ngcontent-%COMP%]   .loader-inner[_ngcontent-%COMP%]{padding:12px}"]}),e})();var I=c("kmKP"),H=c("5eHb");let N=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Gb({type:e,selectors:[["app-settings-menu-item"]],inputs:{title:"title",icon:"icon"},decls:5,vars:2,consts:[[1,"settings-wrapper","rounded-circle","text-center"],[1,"material-icons","md-96"]],template:function(e,t){1&e&&(l.Sb(0,"div",0),l.Sb(1,"h4"),l.wc(2),l.Rb(),l.Sb(3,"span",1),l.wc(4),l.Rb(),l.Rb()),2&e&&(l.Ab(2),l.xc(t.title),l.Ab(2),l.yc(" ",t.icon," "))},styles:[".settings-wrapper[_ngcontent-%COMP%]{background-color:rgba(206,199,199,.469);height:130px;width:130px;cursor:pointer}.settings-wrapper[_ngcontent-%COMP%]   .material-icons.md-96[_ngcontent-%COMP%]{font-size:48px}"]}),e})();const _=[{path:"",component:(()=>{class e{constructor(e,t,c,i){this.dialog=e,this.userService=t,this.propertyService=c,this.toastr=i,this.username=this.userService.getAuthValue.username}ngOnInit(){}openHilsSelectionDialog(){this.dialog.open(v,{width:"90%"}).afterClosed().subscribe(e=>{if(e){localStorage.setItem("hils",JSON.stringify(e.map(e=>e.labcarname)));const t=[];for(const c of e)t.push(c.id);this.userService.sendHils(this.username,t).subscribe(e=>this.toastr.success("Settings saved.","Success!"),e=>console.log(e))}})}openPropertiesSelectionDialog(){this.dialog.open(O,{width:"90%"}).afterClosed().subscribe(e=>{const t=[];if(e){localStorage.setItem("properties",JSON.stringify(e.map(e=>e.name)));for(const c of e)t.push(c.id);this.propertyService.sendProperties(this.username,t).subscribe(e=>this.toastr.success("Settings saved.","Success!"),e=>console.log(e))}})}}return e.\u0275fac=function(t){return new(t||e)(l.Mb(r.b),l.Mb(I.a),l.Mb(k),l.Mb(H.b))},e.\u0275cmp=l.Gb({type:e,selectors:[["app-settings-page"]],decls:7,vars:6,consts:[[1,"row","mb-4"],[1,"col-xl-4","col-lg-4","col-md-4","col-sm-6","col-6","mb-4","d-flex","justify-content-center",3,"click"],[3,"title","icon"],[1,"col-xl-4","col-lg-4","col-md-4","col-sm-6","col-6","mb-4","d-flex","justify-content-center"]],template:function(e,t){1&e&&(l.Sb(0,"div",0),l.Sb(1,"div",1),l.Zb("click",(function(){return t.openHilsSelectionDialog()})),l.Nb(2,"app-settings-menu-item",2),l.Rb(),l.Sb(3,"div",1),l.Zb("click",(function(){return t.openPropertiesSelectionDialog()})),l.Nb(4,"app-settings-menu-item",2),l.Rb(),l.Sb(5,"div",3),l.Nb(6,"app-settings-menu-item",2),l.Rb(),l.Rb()),2&e&&(l.Ab(2),l.jc("title","Hils")("icon","storage"),l.Ab(2),l.jc("title","Properties")("icon","memory"),l.Ab(2),l.jc("title","User")("icon","account_circle"))},directives:[N],styles:[""]}),e})(),pathMatch:"full"}];let T=(()=>{class e{}return e.\u0275mod=l.Kb({type:e}),e.\u0275inj=l.Jb({factory:function(t){return new(t||e)},imports:[[n.d.forChild(_)],n.d]}),e})();var L=c("PCNd");let Z=(()=>{class e{}return e.\u0275mod=l.Kb({type:e}),e.\u0275inj=l.Jb({factory:function(t){return new(t||e)},imports:[[i.b,T,L.a]]}),e})()}}]);